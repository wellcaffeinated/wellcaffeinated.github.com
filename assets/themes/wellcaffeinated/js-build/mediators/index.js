define(["jquery","require","bootstrap-affix","bootstrap-typeahead"],function(e,t,n,r){function i(t){for(var n=0,r=arguments.length;n<r;n++){var i=arguments[n],s=e(i);if(s.scrollTop()>0)return i;s.scrollTop(1);var o=s.scrollTop()>0;s.scrollTop(0);if(o)return i}return t[t.length-1]}function s(e){var t=[],n;for(var r=0,i=e.length;r<i;++r)n=e[r],n&&t.push('<span class="title" data-url="'+encodeURIComponent(n.url)+'">'+n.title+"</span>"+(n.tags?'<span class="tags"><span class="tag">'+n.tags.join('</span><span class="tag">')+"</span></span>":""));return t}function u(e,n){o?n(s(o)):t(["json!/search.json"],function(e){o=e,n(s(o))})}var o;e(function(){e("#main").on({mouseenter:function(t){var n=e(this);if(!n.children("code").length)return;n.addClass("on").stop().animate({width:e("#container").innerWidth()-2*n.offset().left},300)},mouseleave:function(t){var n=e(this);if(!n.children("code").length)return;n.removeClass("on").stop().animate({width:n.parent().innerWidth()},300,function(){n.css("width","auto")})}},"pre"),e("#sidebar").on({click:function(t){t.preventDefault(),e(i("html","body")).animate({scrollTop:0},400)}},".backToTop a"),Modernizr.mq("only screen and (max-width: 767px)")&&Modernizr.localstorage&&(localStorage.wellcaff_visited&&localStorage.wellcaff_visited.length&&parseInt(localStorage.wellcaff_visited)>(new Date).getTime()?setTimeout(function(){e("body").animate({scrollTop:e("#container > .outer").offset().top},400)},500):localStorage.wellcaff_visited=""+((new Date).getTime()+864e5));var t=e("#nav-area");t.wrap(e("<div/>").css("height",t.height())).affix({offset:{top:function(){return e("#header").height()}}}),e("#search-box").typeahead({source:function(e,t){u(e,t)},updater:function(t){var n=e(t).filter(".title").data("url");n&&(n=unescape(n),window.location.pathname=n)}})})})